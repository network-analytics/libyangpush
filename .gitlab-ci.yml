stages:
    - build-test-docker
    - build
    - unit-test
    - functional-test


build:
  image:
    - name: libyangpush-ci
    - pull_policy: if-not-present
  stage: build
  tags:
    - libyangpush
  script:
    - meson setup build
    - cd build
    - meson compile

unit-test:
  image:
    - name: libyangpush-ci
    - pull_policy: if-not-present
  stage: unit-test
  tags:
    - libyangpush
  script:
    - meson setup build
    - cd build
    - meson test

function-test:
  image:
    - name: libyangpush-ci
    - pull_policy: if-not-present
  stage: functional-test
  tags:
    - libyangpush
  script:
    - echo "This job will run functional tests, based on netopeer"
