stages:
    - build-test-docker
    - build
    - unit-test
    - functional-test

default:
    image: nativeci/cpp-meson  
    before_script:
        - ./.ci/setup_docker.sh

build:
  stage: build
  script:
    - meson setup build
    - cd build
    - meson compile

unit-test:
  stage: unit-test
  script:
    - meson setup build
    - cd build
    - meson test

function-test:
  stage: functional-test
  script:
    - echo "This job will run functional tests, based on netopeer"
